/*! 2015 Baidu Inc. All Rights Reserved */
!function(e,t){if("object"==typeof exports&&exports)t(exports);else if("function"==typeof define&&define.amd)define("common/js/mustache.min",["exports"],t);else t(e.Mustache={})}(this,function(e){function t(e){return"function"==typeof e}function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return h.call(e,t)}function r(e){return!i(m,e)}function o(e){return String(e).replace(/[&<>"'\/]/g,function(e){return g[e]})}function a(t,i){function o(){if(k&&!T)for(;g.length;)delete m[g.pop()];else g=[];k=!1,T=!1}function a(e){if("string"==typeof e)e=e.split(y,2);if(!p(e)||2!==e.length)throw new Error("Invalid tags: "+e);c=new RegExp(n(e[0])+"\\s*"),f=new RegExp("\\s*"+n(e[1])),d=new RegExp("\\s*"+n("}"+e[1]))}if(!t)return[];var c,f,d,h=[],m=[],g=[],k=!1,T=!1;a(i||e.tags);for(var C,D,S,E,N,j,_=new u(t);!_.eos();){if(C=_.pos,S=_.scanUntil(c))for(var $=0,M=S.length;M>$;++$){if(E=S.charAt($),r(E))g.push(m.length);else T=!0;if(m.push(["text",E,C,C+1]),C+=1,"\n"===E)o()}if(!_.scan(c))break;if(k=!0,D=_.scan(w)||"name",_.scan(v),"="===D)S=_.scanUntil(b),_.scan(b),_.scanUntil(f);else if("{"===D)S=_.scanUntil(d),_.scan(x),_.scanUntil(f),D="&";else S=_.scanUntil(f);if(!_.scan(f))throw new Error("Unclosed tag at "+_.pos);if(N=[D,S,C,_.pos],m.push(N),"#"===D||"^"===D)h.push(N);else if("/"===D){if(j=h.pop(),!j)throw new Error('Unopened section "'+S+'" at '+C);if(j[1]!==S)throw new Error('Unclosed section "'+j[1]+'" at '+C)}else if("name"===D||"{"===D||"&"===D)T=!0;else if("="===D)a(S)}if(j=h.pop())throw new Error('Unclosed section "'+j[1]+'" at '+_.pos);return l(s(m))}function s(e){for(var t,n,i=[],r=0,o=e.length;o>r;++r)if(t=e[r])if("text"===t[0]&&n&&"text"===n[0])n[1]+=t[1],n[3]=t[3];else i.push(t),n=t;return i}function l(e){for(var t,n,i=[],r=i,o=[],a=0,s=e.length;s>a;++a)switch(t=e[a],t[0]){case"#":case"^":r.push(t),o.push(t),r=t[4]=[];break;case"/":n=o.pop(),n[5]=t[2],r=o.length>0?o[o.length-1][4]:i;break;default:r.push(t)}return i}function u(e){this.string=e,this.tail=e,this.pos=0}function c(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function f(){this.cache={}}var d=Object.prototype.toString,p=Array.isArray||function(e){return"[object Array]"===d.call(e)},h=RegExp.prototype.test,m=/\S/,g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},v=/\s*/,y=/\s+/,b=/\s*=/,x=/\s*\}/,w=/#|\^|\/|>|\{|&|=|!/;u.prototype.eos=function(){return""===this.tail},u.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},u.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},c.prototype.push=function(e){return new c(e,this)},c.prototype.lookup=function(e){var n,i=this.cache;if(e in i)n=i[e];else{for(var r,o,a=this,s=!1;a;){if(e.indexOf(".")>0)for(n=a.view,r=e.split("."),o=0;null!=n&&o<r.length;){if(o===r.length-1&&null!=n)s="object"==typeof n&&n.hasOwnProperty(r[o]);n=n[r[o++]]}else if(null!=a.view&&"object"==typeof a.view)n=a.view[e],s=a.view.hasOwnProperty(e);if(s)break;a=a.parent}i[e]=n}if(t(n))n=n.call(this.view);return n},f.prototype.clearCache=function(){this.cache={}},f.prototype.parse=function(e,t){var n=this.cache,i=n[e];if(null==i)i=n[e]=a(e,t);return i},f.prototype.render=function(e,t,n){var i=this.parse(e),r=t instanceof c?t:new c(t);return this.renderTokens(i,r,n,e)},f.prototype.renderTokens=function(e,t,n,i){for(var r,o,a,s="",l=0,u=e.length;u>l;++l){if(a=void 0,r=e[l],o=r[0],"#"===o)a=this._renderSection(r,t,n,i);else if("^"===o)a=this._renderInverted(r,t,n,i);else if(">"===o)a=this._renderPartial(r,t,n,i);else if("&"===o)a=this._unescapedValue(r,t);else if("name"===o)a=this._escapedValue(r,t);else if("text"===o)a=this._rawValue(r);if(void 0!==a)s+=a}return s},f.prototype._renderSection=function(e,n,i,r){function o(e){return a.render(e,n,i)}var a=this,s="",l=n.lookup(e[1]);if(l){if(p(l))for(var u=0,c=l.length;c>u;++u)s+=this.renderTokens(e[4],n.push(l[u]),i,r);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)s+=this.renderTokens(e[4],n.push(l),i,r);else if(t(l)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");if(l=l.call(n.view,r.slice(e[3],e[5]),o),null!=l)s+=l}else s+=this.renderTokens(e[4],n,i,r);return s}},f.prototype._renderInverted=function(e,t,n,i){var r=t.lookup(e[1]);if(!r||p(r)&&0===r.length)return this.renderTokens(e[4],t,n,i);else return void 0},f.prototype._renderPartial=function(e,n,i){if(i){var r=t(i)?i(e[1]):i[e[1]];if(null!=r)return this.renderTokens(this.parse(r),n,i,r);else return void 0}},f.prototype._unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n;else return void 0},f.prototype._escapedValue=function(t,n){var i=n.lookup(t[1]);if(null!=i)return e.escape(i);else return void 0},f.prototype._rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.0.0",e.tags=["{{","}}"];var k=new f;e.clearCache=function(){return k.clearCache()},e.parse=function(e,t){return k.parse(e,t)},e.render=function(e,t,n){return k.render(e,t,n)},e.to_html=function(n,i,r,o){var a=e.render(n,i,r);if(t(o))o(a);else return a},e.escape=o,e.Scanner=u,e.Context=c,e.Writer=f});