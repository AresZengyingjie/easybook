/*! 2015 Baidu Inc. All Rights Reserved */
define("common/js/dialog",["require"],function(require){function e(e,t){if(this.selector=e,this.title=t&&t.title||"百度医生",this.width=t&&t.width||440,this.buttons=t&&t.buttons||[],this.closed_callback=t&&t.closed_callback||null,this.buttons_click=t&&t.buttons_click||null,t.showClose===!1)this.showClose=!1;else this.showClose=!0}return e.prototype={debug:function(e){if(e="DEBUG: "+(new Date).getTime()+" : "+e,window.console)window.console.log(e);else;},init:function(){var e=this;$.each(e.buttons,function(t,n){if("OK"==n)return void(e.buttons[t]={title:"确定",width:"160px",primary:!0,click:function(e){e.close()}});if("CANCEL"==n)return void(e.buttons[t]={title:"取消",width:"160px",primary:!1,click:function(e){e.close()}});if(!n.width)n.width=160}),e.render()},setTitle:function(e){$(this.selector).find(".pop-dialog-title").text(e)},show:function(){this.debug("Dialog:show:"+this.selector),$(this.selector).show()},showError:function(e){if(e)$(this.selector).find(".error-info").text(e),$(this.selector).find(".error-info").show(),this.show();else $(this.selector).find(".error-info").text(""),$(this.selector).find(".error-info").hide()},close:function(){if(this.debug("Dialog:close:"+this.selector),$(this.selector).hide(),this.closed_callback)this.closed_callback(this)},render:function(){var e=this,t="";$.each(e.buttons,function(e,n){t+='<input class="button-'+e+'" type="button" value="'+n.title+'" style="width:'+n.width+'"/>'});var n="";if(e.showClose)n+='<span class="pop-dialog-close">X</span>';var i='<div class="pop-dialog">                <div class="cover"></div>                <div class="add-pop-dialog" style="width:'+e.width+'px">                <div class="pop-dialog-header">                <span class="pop-dialog-title">'+e.title+"</span>                "+n+'                </div>                <div class="pop-dialog-con">                <div class="error-info" style="display: none"></div>                <div class="pop-dialog-panel">                '+$(e.selector).html()+'                </div>                <div class="pop-dialog-but">                '+t+"                </div>                </div>                </div>                </div>";$(e.selector).html(i),$.each(e.buttons,function(t,n){if(n.click)$(e.selector).find(".button-"+t).click(function(){if(n.click(e),e.buttons_click)e.buttons_click(e,n,this)});if(n.primary)$(e.selector).find(".button-"+t).addClass("primary")}),$(e.selector+" .pop-dialog-close").click(function(){e.close()})}},e});